{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Flaviu/Desktop/Movies/movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Flaviu/Desktop/Movies/movie-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Flaviu\\\\Desktop\\\\Movies\\\\movie-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import movieTrailer from'movie-trailer';import YouTube from'react-youtube';import'./row.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Row=function Row(_ref){var title=_ref.title,fetchUrl=_ref.fetchUrl;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),trailerUrl=_useState4[0],setTrailerUrl=_useState4[1];// const url = 'https://api.themoviedb.org/3/movie/popular?api_key=49e800de027955c63868eb9e24ba6ba9'\nvar imgUrl=\"https://image.tmdb.org/t/p/original\";var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request,_movies;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(fetchUrl);case 2:request=_context.sent;if(!(request.status===200)){_context.next=8;break;}_context.next=6;return request.json();case 6:_movies=_context.sent;setMovies(_movies.results);case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);var handleClick=function handleClick(movie){if(trailerUrl){setTrailerUrl(\"\");}else{movieTrailer((movie===null||movie===void 0?void 0:movie.title)||\"\").then(function(url){var urlParams=new URLSearchParams(new URL(url).search);setTrailerUrl(urlParams.get(\"v\"));}).catch(function(){return alert('Movie has no Trailer');});}};var opts={height:\"390\",width:\"100%\",playerVars:{autoplay:1}};return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"row-popular title\",children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"row-posters\",children:movies.map(function(movie){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"row-img\",src:\"\".concat(imgUrl).concat(movie.poster_path),alt:movie.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"item__overlay\",onClick:function onClick(){return handleClick(movie);},children:[/*#__PURE__*/_jsx(\"h3\",{id:\"movie-title\",\"aria-hidden\":\"true\",children:movie.title||movie.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"item__body\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Popularity : \",movie.popularity]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Average votes : \",movie.vote_average]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Release Date : \",movie.release_date||movie.first_air_date]})]})]})]},movie.id);})}),trailerUrl&&/*#__PURE__*/_jsx(YouTube,{className:\"ytvideo\",videoId:trailerUrl,opts:opts})]});};export default Row;","map":{"version":3,"sources":["C:/Users/Flaviu/Desktop/Movies/movie-app/src/components/row/Row.jsx"],"names":["React","useEffect","useState","movieTrailer","YouTube","Row","title","fetchUrl","movies","setMovies","trailerUrl","setTrailerUrl","imgUrl","fetchData","fetch","request","status","json","results","handleClick","movie","then","url","urlParams","URLSearchParams","URL","search","get","catch","alert","opts","height","width","playerVars","autoplay","map","poster_path","name","popularity","vote_average","release_date","first_air_date","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState} from \"react\";\nimport movieTrailer from 'movie-trailer';\nimport YouTube from 'react-youtube';\nimport './row.css';\n\nconst Row = ({ title, fetchUrl }) => {\n    const [movies, setMovies] = useState([]);\n    const [trailerUrl, setTrailerUrl] = useState('');\n\n    // const url = 'https://api.themoviedb.org/3/movie/popular?api_key=49e800de027955c63868eb9e24ba6ba9'\n    const imgUrl = `https://image.tmdb.org/t/p/original`\n    \n    const fetchData = async () => {\n        const request = await fetch(fetchUrl);\n        if(request.status === 200){\n            const movies = await request.json();\n            setMovies(movies.results);\n        }\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    const handleClick = (movie) => {\n        if (trailerUrl) {\n          setTrailerUrl(\"\");\n        } else {\n          movieTrailer(movie?.title || \"\")\n            .then((url) => {\n              const urlParams = new URLSearchParams(new URL(url).search);\n              setTrailerUrl(urlParams.get(\"v\"));\n            })\n            .catch(() => alert('Movie has no Trailer'));\n        }\n      };\n\n      const opts = {\n        height: \"390\",\n        width: \"100%\",\n        playerVars: {\n          autoplay: 1,\n        },\n      };\n\n    return (\n        <div className=\"row\">\n            <h1 className=\"row-popular title\">{title}</h1>\n            <div className=\"row-posters\"> \n                {movies.map((movie) => \n                <div className=\"item\" key={movie.id}>\n                  <img className=\"row-img\" src={`${imgUrl}${movie.poster_path}`} alt={movie.title} />\n                  <div className=\"item__overlay\" onClick={()=> handleClick(movie)}>\n                    <h3 id=\"movie-title\" aria-hidden=\"true\">{movie.title || movie.name}</h3>\n                    <div className=\"item__body\">\n                      <p>Popularity : {movie.popularity}</p>\n                      <p>Average votes : {movie.vote_average}</p>\n                      <p>Release Date : {movie.release_date || movie.first_air_date}</p>\n                    </div>\n                  </div>\n                </div>\n                )}\n            </div>\n            {trailerUrl && <YouTube className=\"ytvideo\" videoId={trailerUrl} opts={opts} />}\n        </div>\n    )\n}\n\nexport default Row;"]},"metadata":{},"sourceType":"module"}